title <- conde_nast %>%
html_nodes(".s8:nth-child(2)") %>%
html_text() %>%
readr::parse_character()
library(rvest)
library(tidyr)
library(dplyr)
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast <- read_html("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
title <- conde_nast %>%
html_nodes(".s8:nth-child(2)") %>%
html_text() %>%
readr::parse_character()
salary <- conde_nast %>%
html_nodes(".s9:nth-child(3)") %>%
html_text() %>%
readr::parse_number()
race <- conde_nast %>%
html_nodes(".s8:nth-child(4)") %>%
html_text() %>%
readr::parse_character()
gender <- conde_nast %>%
html_nodes(".s8:nth-child(5)") %>%
html_text() %>%
readr::parse_character()
sex_orien <- conde_nast %>%
html_nodes(".s8:nth-child(6)") %>%
html_text() %>%
readr::parse_character()
status <- conde_nast %>%
html_nodes(".s8:nth-child(7)") %>%
html_text() %>%
readr::parse_character()
yrs_role <- conde_nast %>%
html_nodes(".s9:nth-child(8)") %>%
html_text() %>%
readr::parse_number()
yrs_exp <- conde_nast %>%
html_nodes(".s9:nth-child(8)") %>%
html_text() %>%
readr::parse_character()
reports_ind <- conde_nast %>%
html_nodes(".s9:nth-child(10)") %>%
html_text() %>%
readr::parse_number()
reports_dir <- conde_nast %>%
html_nodes(".s9:nth-child(11)") %>%
html_text() %>%
readr::parse_number()
add_comp <- conde_nast %>%
html_nodes("td:nth-child(12)") %>%
html_text() %>%
readr::parse_character()
other <- conde_nast %>%
html_nodes(".s10:nth-child(13)") %>%
html_text() %>%
readr::parse_character()
#combined <- data_frame(title, salary, gender, race, sex_orien, yrs_exp, yrs_role, add_comp, reports_dir, reports_ind, other)
raw <- data_frame(title, salary, gender, race, sex_orien, yrs_exp, yrs_role)
write.csv(raw,'raw_cn.csv')
View(raw)
library("rvest")
library("tidyr")
library("dplyr")
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast <- read_html("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
title <- conde_nast %>%
html_nodes(".s8:nth-child(2)") %>%
html_text() %>%
readr::parse_character()
title <- conde_nast %>%
html_nodes(".s8:nth-child(2)") %>%
html_text() %>%
readr::parse_character()
salary <- conde_nast %>%
html_nodes(".s9:nth-child(3)") %>%
html_text() %>%
readr::parse_number()
race <- conde_nast %>%
html_nodes(".s8:nth-child(4)") %>%
html_text() %>%
readr::parse_character()
gender <- conde_nast %>%
html_nodes(".s8:nth-child(5)") %>%
html_text() %>%
readr::parse_character()
sex_orien <- conde_nast %>%
html_nodes(".s8:nth-child(6)") %>%
html_text() %>%
readr::parse_character()
status <- conde_nast %>%
html_nodes(".s8:nth-child(7)") %>%
html_text() %>%
readr::parse_character()
yrs_role <- conde_nast %>%
html_nodes(".s9:nth-child(8)") %>%
html_text() %>%
readr::parse_number()
yrs_exp <- conde_nast %>%
html_nodes(".s9:nth-child(8)") %>%
html_text() %>%
readr::parse_character()
reports_ind <- conde_nast %>%
html_nodes(".s9:nth-child(10)") %>%
html_text() %>%
readr::parse_number()
reports_dir <- conde_nast %>%
html_nodes(".s9:nth-child(11)") %>%
html_text() %>%
readr::parse_number()
add_comp <- conde_nast %>%
html_nodes("td:nth-child(12)") %>%
html_text() %>%
readr::parse_character()
other <- conde_nast %>%
html_nodes(".s10:nth-child(13)") %>%
html_text() %>%
readr::parse_character()
#combined <- data_frame(title, salary, gender, race, sex_orien, yrs_exp, yrs_role, add_comp, reports_dir, reports_ind, other)
raw <- data_frame(title, salary, gender, race, sex_orien, yrs_exp, yrs_role)
write.csv(raw,'raw_cn.csv')
rm(list=ls())
if(!require(pacman))install.packages("pacman")
pacman::p_load('dplyr', 'tidyr', 'gapminder',
'ggplot2',  'ggalt',
'forcats', 'R.utils', 'png',
'grid', 'ggpubr', 'scales',
'bbplot', 'readxl',
'tidyverse','haven','graphics',
'gganimate', 'gifski','ggmap',
'maptools','maps','Hmisc')
rm(list=ls())
if(!require(pacman))install.packages("pacman")
pacman::p_load('dplyr', 'tidyr', 'rvest','tidyverse',)
if(!require(pacman))install.packages("pacman")
rm(list=ls())
if(!require(pacman))
install.packages("pacman")
pacman::p_load('dplyr', 'tidyr', 'rvest','tidyverse',)
rm(list=ls())
if(!require(pacman))install.packages("pacman")
pacman::p_load('dplyr', 'tidyr', 'gapminder',
'ggplot2',  'ggalt',
'forcats', 'R.utils', 'png',
'grid', 'ggpubr', 'scales',
'bbplot', 'readxl',
'tidyverse','haven','graphics',
'gganimate', 'gifski','ggmap',
'maptools','maps','Hmisc')
rm(list=ls())
if(!require(pacman))install.packages("pacman")
pacman::p_load('dplyr', 'tidyr', 'rvest','tidyverse',)
detach("package:utils", unload=TRUE)
library("utils", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast <- read_html("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
title <- conde_nast %>%
html_nodes(".s8:nth-child(2)") %>%
html_text() %>%
readr::parse_character()
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast <- read_html("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
rm(list=ls())
if(!require(pacman))install.packages("pacman")
pacman::p_load('dplyr', 'tidyr', 'rvest','tidyverse',)
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast <- read_html("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
library('dplyr')
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot')
library('tidyverse')
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast <- read_html("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast <- read_html("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
help("read_html")
detach("package:datasets", unload=TRUE)
detach("package:dplyr", unload=TRUE)
detach("package:forcats", unload=TRUE)
detach("package:ggplot2", unload=TRUE)
detach("package:grDevices", unload=TRUE)
detach("package:graphics", unload=TRUE)
detach("package:methods", unload=TRUE)
detach("package:pacman", unload=TRUE)
detach("package:purrr", unload=TRUE)
detach("package:readr", unload=TRUE)
detach("package:rvest", unload=TRUE)
detach("package:tidyr", unload=TRUE)
detach("package:stringr", unload=TRUE)
detach("package:stats", unload=TRUE)
detach("package:tibble", unload=TRUE)
detach("package:tidyverse", unload=TRUE)
detach("package:utils", unload=TRUE)
detach("package:xml2", unload=TRUE)
