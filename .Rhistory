ag09_11$HHID2<-as.factor(ag09_11$HHID)
test<-ag09_11 %>%
group_by(HHID2, year,visit) %>%
summarise(crops_grown=n(),
count_prime=sum(crop_primestaple,na.rm=TRUE))
test$perc_prime<-test$count_prime/test$crops_grown
c<-ggplot(data=test, aes(perc_prime))
c1<-c+geom_density(kernel="gaussian")
c2<-c1+facet_grid(rows=vars(year), cols=vars(visit))
c2
View(test)
??ecdf
test$year_visit<-paste(test$year,test$visit, sep = " ", collapse = NULL)
View(test)
test$cumdist<-Ecdf(test$perc_prime, group=(test$year_visit))
View(test)
??ecdf
first09<-filter(test, test$year_visit=="2009 first")
??filtuer
??filter
first09<-filter(test,year_visit=="2009 first")
x
first09<-filter(test,year_visit=="2009 first")
second09<-filter(test,year_visit=="2009 second")
first10<-filter(test,year_visit=="2010 first")
second10<-filter(test,year_visit=="2010 second")
first11<-filter(test,year_visit=="2011 first")
second11<-filter(test,year_visit=="2011 second")
first09$fn_perc<-ecdf(first09$perc_prime)
fn_perc09f<-ecdf(first09$perc_prime)
fn_perc09f<-ecdf(first09$perc_prime)
fn_perc09s<-ecdf(second09$perc_prime)
fn_perc10f<-ecdf(first10$perc_prime)
fn_perc10s<-ecdf(second10$perc_prime)
fn_perc11f<-ecdf(first11$perc_prime)
fn_perc11s<-ecdf(second11$perc_prime)
plot(fn_perc09f, verticals=TRUE, do.points=FALSE)
plot(fn_perc09f,fn_perc09s, verticals=TRUE, do.points=FALSE)
plot(fn_perc09s, verticals=TRUE, do.points=FALSE)
plot(fn_perc09s, verticals=TRUE, do.points=FALSE)+
plot(fn_perc09f)
plot(fn_perc09f, verticals=TRUE, do.points=FALSE)
plot(fn_perc09s, verticals=TRUE, do.points=FALSE)
plot(fn_perc10f, verticals=TRUE, do.points=FALSE)
plot(fn_perc10s, verticals=TRUE, do.points=FALSE)
plot(fn_perc11f, verticals=TRUE, do.points=FALSE)
plot(fn_perc11s, verticals=TRUE, do.points=FALSE)
remotes::install_github("serrat839/mRkov")
remotes::install_github("serrat839/mRkov")
shiny::runGitHub("mRkov_shiny", username = "serrat839")
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
library('sjmisc')
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast<-read.csv("conde_nast.csv")
conde_nast$male<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Man (transgender)",1,0)
conde_nast$straight<-ifelse(conde_nast$sexuality=="Straight",1,0)
conde_nast$cisgendered<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Woman (cisgender)",1,0)
summary(conde_nast$male)
summary(conde_nast$straight)
summary(conde_nast$cisgendered)
write.csv(conde_nast,'conde_nast.csv')
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
library("XML")
library("googlesheets4")
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
#gs4_browse("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
cnast<-range_read("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
library('sjmisc')
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast<-read.csv("conde_nast.csv")
conde_nast$male<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Man (transgender)",1,0)
conde_nast$straight<-ifelse(conde_nast$sexuality=="Straight",1,0)
conde_nast$cisgendered<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Woman (cisgender)",1,0)
summary(conde_nast$male)
summary(conde_nast$straight)
summary(conde_nast$cisgendered)
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
library("XML")
library("googlesheets4")
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
#gs4_browse("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
cnast<-range_read("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
rowtitles<- cnast[c(2), ]
raw<- cnast[-c(1,2), ]
names(raw)[which(names(raw) == "HERE IS A GOOGLE FORM TO ADD YOUR INFO: https://forms.gle/i6QLjLwV3fR9XCkt9")] <- "title"
names(raw)[which(names(raw) == "...2")] <- "salary"
names(raw)[which(names(raw) == "...3")] <- "race"
names(raw)[which(names(raw) == "...4")] <- "gender"
names(raw)[which(names(raw) == "...5")] <- "sexuality"
names(raw)[which(names(raw) == "...6")] <- "employ_status"
names(raw)[which(names(raw) == "...7")] <- "yrs_role"
names(raw)[which(names(raw) == "...8")] <- "yrs_exp"
names(raw)[which(names(raw) == "...9")] <- "reports_ind"
names(raw)[which(names(raw) == "...10")] <- "reports_dir"
names(raw)[which(names(raw) == "...11")] <- "additonal_comp"
names(raw)[which(names(raw) == "...12")] <- "notes"
conde_nast<-as.data.frame(raw)
conde_nast<- conde_nast[,-c(13)]
conde_nast <- apply(conde_nast,2,as.character)
write.csv(conde_nast,'conde_nast.csv')
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
library('sjmisc')
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast<-read.csv("conde_nast.csv")
conde_nast$male<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Man (transgender)",1,0)
conde_nast$straight<-ifelse(conde_nast$sexuality=="Straight",1,0)
conde_nast$cisgendered<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Woman (cisgender)",1,0)
summary(conde_nast$male)
summary(conde_nast$straight)
summary(conde_nast$cisgendered)
summary(conde_nast$salary)
View(conde_nast)
??lm
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
library("XML")
library("googlesheets4")
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
#gs4_browse("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
cnast<-range_read("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
rowtitles<- cnast[c(2), ]
raw<- cnast[-c(1,2), ]
names(raw)[which(names(raw) == "HERE IS A GOOGLE FORM TO ADD YOUR INFO: https://forms.gle/i6QLjLwV3fR9XCkt9")] <- "title"
names(raw)[which(names(raw) == "...2")] <- "salary"
names(raw)[which(names(raw) == "...3")] <- "race"
names(raw)[which(names(raw) == "...4")] <- "gender"
names(raw)[which(names(raw) == "...5")] <- "sexuality"
names(raw)[which(names(raw) == "...6")] <- "employ_status"
names(raw)[which(names(raw) == "...7")] <- "yrs_role"
names(raw)[which(names(raw) == "...8")] <- "yrs_exp"
names(raw)[which(names(raw) == "...9")] <- "reports_ind"
names(raw)[which(names(raw) == "...10")] <- "reports_dir"
names(raw)[which(names(raw) == "...11")] <- "additonal_comp"
names(raw)[which(names(raw) == "...12")] <- "notes"
conde_nast<-as.data.frame(raw)
conde_nast<- conde_nast[,-c(13)]
conde_nast <- apply(conde_nast,2,as.character)
write.csv(conde_nast,'conde_nast.csv')
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
library('sjmisc')
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast<-read.csv("conde_nast.csv")
conde_nast$male<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Man (transgender)",1,0)
conde_nast$straight<-ifelse(conde_nast$sexuality=="Straight",1,0)
conde_nast$cisgendered<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Woman (cisgender)",1,0)
summary(conde_nast$male)
summary(conde_nast$straight)
summary(conde_nast$cisgendered)
summary(conde_nast$salary)
View(conde_nast)
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
library("XML")
library("googlesheets4")
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
#gs4_browse("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
cnast<-range_read("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
rowtitles<- cnast[c(2), ]
raw<- cnast[-c(1,2), ]
View(cnast)
View(raw)
names(raw)[which(names(raw) == "GOOGLE FORM TO ADD YOURS: https://forms.gle/i6QLjLwV3fR9XCkt9")] <- "title"
names(raw)[which(names(raw) == "GOOGLE FORM TO ADD YOURS: https://forms.gle/i6QLjLwV3fR9XCkt9")] <- "title"
names(raw)[which(names(raw) == "...2")] <- "salary"
names(raw)[which(names(raw) == "...3")] <- "race"
names(raw)[which(names(raw) == "...4")] <- "gender"
names(raw)[which(names(raw) == "...5")] <- "sexuality"
names(raw)[which(names(raw) == "...6")] <- "employ_status"
names(raw)[which(names(raw) == "...7")] <- "yrs_role"
names(raw)[which(names(raw) == "...8")] <- "yrs_exp"
names(raw)[which(names(raw) == "...9")] <- "reports_ind"
names(raw)[which(names(raw) == "...10")] <- "reports_dir"
names(raw)[which(names(raw) == "...11")] <- "additonal_comp"
names(raw)[which(names(raw) == "...12")] <- "notes"
conde_nast<-as.data.frame(raw)
conde_nast<- conde_nast[,-c(13)]
conde_nast <- apply(conde_nast,2,as.character)
write.csv(conde_nast,'conde_nast.csv')
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
library('sjmisc')
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast<-read.csv("conde_nast.csv")
conde_nast$male<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Man (transgender)",1,0)
conde_nast$straight<-ifelse(conde_nast$sexuality=="Straight",1,0)
conde_nast$cisgendered<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Woman (cisgender)",1,0)
summary(conde_nast$male)
summary(conde_nast$straight)
summary(conde_nast$cisgendered)
summary(conde_nast$salary)
conde_nast$yrs_role<-as.numeric(conde_nast$yrs_role)
conde_nast$yrs_exp<-ifelse(conde_nast$yrs_exp=="20 or more",20,0)
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
library('sjmisc')
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast<-read.csv("conde_nast.csv")
conde_nast$male<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Man (transgender)",1,0)
conde_nast$straight<-ifelse(conde_nast$sexuality=="Straight",1,0)
conde_nast$cisgendered<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Woman (cisgender)",1,0)
summary(conde_nast$male)
summary(conde_nast$straight)
summary(conde_nast$cisgendered)
summary(conde_nast$salary)
conde_nast$yrs_role<-as.numeric(conde_nast$yrs_role)
conde_nast$yrs_exp<-ifelse(conde_nast$yrs_exp=="20 or more",20,yrs_exp)
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
library('sjmisc')
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast<-read.csv("conde_nast.csv")
conde_nast$male<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Man (transgender)",1,0)
conde_nast$straight<-ifelse(conde_nast$sexuality=="Straight",1,0)
conde_nast$cisgendered<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Woman (cisgender)",1,0)
summary(conde_nast$male)
summary(conde_nast$straight)
summary(conde_nast$cisgendered)
summary(conde_nast$salary)
conde_nast$yrs_role<-as.numeric(conde_nast$yrs_role)
conde_nast$yrs_exp<-ifelse(conde_nast$yrs_exp=="20 or more",20,conde_nast$yrs_exp)
label(conde_nast$yrs_exp) <- "Years of experience, topcoded at 20"
library('Hmisc')
label(conde_nast$yrs_exp) <- "Years of experience, topcoded at 20"
conde_nast$reports_ind<-ifelse(conde_nast$reports_ind=="NULL",0,conde_nast$reports_ind)
conde_nast$reports_dir<-ifelse(conde_nast$reports_dir=="NULL",0,conde_nast$reports_dir)
c<-ggplot(data=conde_nast, aes(salary))
c1<-c+geom_density(kernel="gaussian")
c1
conde_nast$white<-ifelse(conde_nast$race=="White"|conde_nast$race=="white"|conde_nast$race=="caucasian",1,0)
conde_nast$male<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Man (transgender)",1,0)
conde_nast$straight<-ifelse(conde_nast$sexuality=="Straight",1,0)
conde_nast$cisgendered<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Woman (cisgender)",1,0)
summary(conde_nast$white)
summary(conde_nast$male)
summary(conde_nast$straight)
summary(conde_nast$cisgendered)
summary(conde_nast$salary)
c<-ggplot(data=conde_nast, aes(salary))
c1<-c+geom_density(kernel="gaussian")
c1
c2<-c1+facet_grid(rows=vars(white), cols=vars(male))
c2
help(as.factor)
conde_nast$white_lb<-as.factor(conde_nast$white,levels = c(0,1), labels = c("Non-white","White"))
conde_nast$white_lb<-factor(conde_nast$white,levels = c(0,1), labels = c("Non-white","White"))
conde_nast$male_lb<-factor(conde_nast$male,levels = c(0,1), labels = c("Non-male","Male"))
c<-ggplot(data=conde_nast, aes(salary))
c1<-c+geom_density(kernel="gaussian")
c1
c2<-c1+facet_grid(rows=vars(white_lb), cols=vars(male_lb))
c2
c<-ggplot(data=conde_nast, aes(salary))
c1<-c+geom_density()
c1
c2<-c1+facet_grid(rows=vars(white_lb), cols=vars(male_lb))
c2
conde_nast$anyreports<-ifelse(conde_nast$reports_dir>0 | conde_nest$reports_ind>0,1,0)
conde_nast$anyreports<-ifelse(conde_nast$reports_dir>0 | conde_nast$reports_ind>0,1,0)
conde_nast$reports_any<-ifelse(conde_nast$reports_dir>0 | conde_nast$reports_ind>0,1,0)
summary(conde_nast$white)
summary(conde_nast$male)
summary(conde_nast$straight)
summary(conde_nast$cisgendered)
summary(conde_nast$salary)
summary(conde_nast$reports_ind)
summary(conde_nast$reports_dir)
summary(conde_nast$reports_any)
conde_nast$reports_total<-conde_nast$reports_dir+conde_nast$reports_ind
summary(conde_nast$reports_total)
model_1 <- lm(salary ~ white + male + straight + cisgendered+ yrs_exp+yrs_role)
model_1 <- lm(salary ~ white + male + straight + cisgendered+ yrs_exp+yrs_role,data=conde_nast)
summary(model_1)
conde_nast$ln_salary<-ln(conde_nast$salary)
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
library("XML")
library("googlesheets4")
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
#gs4_browse("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
cnast<-range_read("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
rowtitles<- cnast[c(2), ]
raw<- cnast[-c(1,2), ]
names(raw)[which(names(raw) == "GOOGLE FORM TO ADD YOURS: https://forms.gle/i6QLjLwV3fR9XCkt9")] <- "title"
names(raw)[which(names(raw) == "...2")] <- "salary"
names(raw)[which(names(raw) == "...3")] <- "race"
names(raw)[which(names(raw) == "...4")] <- "gender"
names(raw)[which(names(raw) == "...5")] <- "sexuality"
names(raw)[which(names(raw) == "...6")] <- "employ_status"
names(raw)[which(names(raw) == "...7")] <- "yrs_role"
names(raw)[which(names(raw) == "...8")] <- "yrs_exp"
names(raw)[which(names(raw) == "...9")] <- "reports_ind"
names(raw)[which(names(raw) == "...10")] <- "reports_dir"
names(raw)[which(names(raw) == "...11")] <- "additonal_comp"
names(raw)[which(names(raw) == "...12")] <- "notes"
conde_nast<-as.data.frame(raw)
conde_nast<- conde_nast[,-c(13)]
conde_nast <- apply(conde_nast,2,as.character)
write.csv(conde_nast,'conde_nast.csv')
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
library('sjmisc')
library('Hmisc')
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast<-read.csv("conde_nast.csv")
conde_nast$white<-ifelse(conde_nast$race=="White"|conde_nast$race=="white"|conde_nast$race=="caucasian",1,0)
conde_nast$male<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Man (transgender)",1,0)
conde_nast$straight<-ifelse(conde_nast$sexuality=="Straight",1,0)
conde_nast$cisgendered<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Woman (cisgender)",1,0)
summary(conde_nast$white)
summary(conde_nast$male)
summary(conde_nast$straight)
summary(conde_nast$cisgendered)
summary(conde_nast$salary)
conde_nast$white_lb<-factor(conde_nast$white,levels = c(0,1), labels = c("Non-white","White"))
conde_nast$male_lb<-factor(conde_nast$male,levels = c(0,1), labels = c("Non-male","Male"))
conde_nast$yrs_role<-as.numeric(conde_nast$yrs_role)
conde_nast$yrs_exp<-ifelse(conde_nast$yrs_exp=="20 or more",20,conde_nast$yrs_exp)
label(conde_nast$yrs_exp) <- "Years of experience, topcoded at 20"
conde_nast$reports_ind<-ifelse(conde_nast$reports_ind=="NULL",0,conde_nast$reports_ind)
conde_nast$reports_dir<-ifelse(conde_nast$reports_dir=="NULL",0,conde_nast$reports_dir)
conde_nast$reports_any<-ifelse(conde_nast$reports_dir>0 | conde_nast$reports_ind>0,1,0)
conde_nast$reports_total<-conde_nast$reports_dir+conde_nast$reports_ind
summary(conde_nast$white)
summary(conde_nast$male)
summary(conde_nast$straight)
summary(conde_nast$cisgendered)
summary(conde_nast$salary)
summary(conde_nast$reports_ind)
summary(conde_nast$reports_dir)
summary(conde_nast$reports_any)
summary(conde_nast$reports_total)
c<-ggplot(data=conde_nast, aes(salary))
c1<-c+geom_density()
c1
c2<-c1+facet_grid(rows=vars(white_lb), cols=vars(male_lb))
c2
conde_nast$ln_salary<-ln(conde_nast$salary)
model_1 <- lm(salary ~ white + male + straight + cisgendered+ yrs_exp+yrs_role,data=conde_nast)
summary(model_1)
model_2 <- lm(salary ~ white + male + straight + cisgendered+ yrs_exp+yrs_role+reports_total,data=conde_nast)
summary(model_2)
conde_nast$fulltime<-ifelse(conde_nast$status=="Full-time",1,0)
View(conde_nast)
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
library('sjmisc')
library('Hmisc')
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast<-read.csv("conde_nast.csv")
conde_nast$white<-ifelse(conde_nast$race=="White"|conde_nast$race=="white"|conde_nast$race=="caucasian",1,0)
conde_nast$male<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Man (transgender)",1,0)
conde_nast$straight<-ifelse(conde_nast$sexuality=="Straight",1,0)
conde_nast$cisgendered<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Woman (cisgender)",1,0)
conde_nast$fulltime<-ifelse(conde_nast$status=="Full-time",1,0)
conde_nast$fulltime<-ifelse(conde_nast$employ_status=="Full-time",1,0)
summary(conde_nast$white)
summary(conde_nast$male)
summary(conde_nast$straight)
summary(conde_nast$cisgendered)
summary(conde_nast$salary)
summary(conde_nast$reports_ind)
summary(conde_nast$reports_dir)
summary(conde_nast$reports_any)
summary(conde_nast$reports_total)
summary(conde_nast$fulltime)
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
library("XML")
library("googlesheets4")
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
#gs4_browse("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
cnast<-range_read("https://docs.google.com/spreadsheets/u/1/d/1YqdJCJ3LmtVIzxsgOj-YhE8fGBQ3zhuEkWp-_og2HEE/htmlview?pru=AAABcsoMglg*NgqVwN1JSbezwnZ9b6PYNg")
rowtitles<- cnast[c(2), ]
raw<- cnast[-c(1,2), ]
names(raw)[which(names(raw) == "GOOGLE FORM TO ADD YOURS: https://forms.gle/i6QLjLwV3fR9XCkt9")] <- "title"
names(raw)[which(names(raw) == "...2")] <- "salary"
names(raw)[which(names(raw) == "...3")] <- "race"
names(raw)[which(names(raw) == "...4")] <- "gender"
names(raw)[which(names(raw) == "...5")] <- "sexuality"
names(raw)[which(names(raw) == "...6")] <- "employ_status"
names(raw)[which(names(raw) == "...7")] <- "yrs_role"
names(raw)[which(names(raw) == "...8")] <- "yrs_exp"
names(raw)[which(names(raw) == "...9")] <- "reports_ind"
names(raw)[which(names(raw) == "...10")] <- "reports_dir"
names(raw)[which(names(raw) == "...11")] <- "additonal_comp"
names(raw)[which(names(raw) == "...12")] <- "notes"
conde_nast<-as.data.frame(raw)
conde_nast<- conde_nast[,-c(13)]
conde_nast <- apply(conde_nast,2,as.character)
write.csv(conde_nast,'conde_nast.csv')
rm(list=ls())
library('dplyr')
library('tidyr')
library('rvest')
library('ggplot2')
library('tidyverse')
library('sjmisc')
library('Hmisc')
setwd("/Users/michaelgibson/Documents/GitHub/Conde-Naste")
conde_nast<-read.csv("conde_nast.csv")
conde_nast$white<-ifelse(conde_nast$race=="White"|conde_nast$race=="white"|conde_nast$race=="caucasian",1,0)
conde_nast$male<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Man (transgender)",1,0)
conde_nast$straight<-ifelse(conde_nast$sexuality=="Straight",1,0)
conde_nast$cisgendered<-ifelse(conde_nast$gender=="Man (cisgender)"|conde_nast$gender=="Woman (cisgender)",1,0)
conde_nast$fulltime<-ifelse(conde_nast$employ_status=="Full-time",1,0)
conde_nast$white_lb<-factor(conde_nast$white,levels = c(0,1), labels = c("Non-white","White"))
conde_nast$male_lb<-factor(conde_nast$male,levels = c(0,1), labels = c("Non-male","Male"))
conde_nast$yrs_role<-as.numeric(conde_nast$yrs_role)
conde_nast$yrs_exp<-ifelse(conde_nast$yrs_exp=="20 or more",20,conde_nast$yrs_exp)
label(conde_nast$yrs_exp) <- "Years of experience, topcoded at 20"
conde_nast$reports_ind<-ifelse(conde_nast$reports_ind=="NULL",0,conde_nast$reports_ind)
conde_nast$reports_dir<-ifelse(conde_nast$reports_dir=="NULL",0,conde_nast$reports_dir)
conde_nast$reports_any<-ifelse(conde_nast$reports_dir>0 | conde_nast$reports_ind>0,1,0)
conde_nast$reports_total<-conde_nast$reports_dir+conde_nast$reports_ind
summary(conde_nast$white)
summary(conde_nast$male)
summary(conde_nast$straight)
summary(conde_nast$cisgendered)
summary(conde_nast$salary)
summary(conde_nast$reports_ind)
summary(conde_nast$reports_dir)
summary(conde_nast$reports_any)
summary(conde_nast$reports_total)
summary(conde_nast$fulltime)
c<-ggplot(data=conde_nast, aes(salary))
c1<-c+geom_density()
c1
c2<-c1+facet_grid(rows=vars(white_lb), cols=vars(male_lb))
c2
conde_nast$ln_salary<-ln(conde_nast$salary)
model_1 <- lm(salary ~ white + male + straight + cisgendered+ yrs_exp+yrs_role,data=conde_nast)
summary(model_1)
model_2 <- lm(salary ~ white + male + straight + cisgendered+ yrs_exp+yrs_role+reports_total,data=conde_nast)
summary(model_2)
library('bbplot')
c<-ggplot(data=conde_nast, aes(salary))
c1<-c+geom_density()
c1
c2<-c1+facet_grid(rows=vars(white_lb), cols=vars(male_lb))
c2+
bbc_style()
c2<-c1+facet_grid(rows=vars(white_lb), cols=vars(male_lb))
+bbc_style()
c3<-c2+bbc_style()
c3
